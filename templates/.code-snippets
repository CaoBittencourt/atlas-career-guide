{
    "#new_region": {
        "prefix": "# region",
        "body": [
            "# region: $1 ",
            "",
            "# endregion",
            ""
        ],
        "description": "Create a new #region."
    },
    "%new_region": {
        "prefix": "% region",
        "body": [
            "% region: $1 ",
            "",
            "% endregion",
            ""
        ],
        "description": "Create a new %region."
    },
    "r pipe": {
        "prefix": "r pipe",
        "body": " |> ",
        "description": "Native R pipe operator.",
    },
    "r export": {
        "prefix": "r export",
        "body": [
            "#' @export",
            "box::use(",
            "  submodule1 = mod / module / submodule1[...],",
            "  submodule2 = mod / module / submodule2[...]",
            ")"
        ],
        "description": "Export R function using with box module."
    },
    "r module": {
        "prefix": "r module",
        "body": [
            "# setup",
            "# region: imports",
            "box::use(",
            "  assert = mod / utils / assert,",
            ")",
            "",
            "# endregion",
            "# methods",
            "# region: method1 method",
            "$1.method1 <- function() {",
            "  # assert args in main function",
            "  # description",
            "  return('method1')",
            "}",
            "",
            "# endregion",
            "# region: method2 method",
            "$1.method2 <- function() {",
            "  # assert args in main function",
            "  # description",
            "  return('method2')",
            "}",
            "",
            "# endregion",
            "# region: list of methods",
            "list(",
            "  'method1' = 'method1',",
            "  'method2' = 'method2'",
            ") -> $1.methods",
            "",
            "# endregion",
            "# dispatch",
            "# region: $1 generic function",
            "$1 <- function($1_method = $1.methods[[1]], ...) {",
            "  # assert args",
            "",
            "  # multiple dispatch",
            "  if ($1_method[[1]] == $1.methods\\$method1) {",
            "    return($1.method1())",
            "  }",
            "",
            "  if ($1_method[[1]] == $1.methods\\$method2) {",
            "    return($1.method2())",
            "  }",
            "}",
            "",
            "# endregion",
            "# exports",
            "# region: exports",
            "box::export($1, $1.methods)",
            "",
            "# endregion",
            "",
        ],
        "description": "R box module."
    },
    "model": {
        "prefix": "model",
        "body": [
            "# setup",
            "# region: modules",
            "options(box.path = Sys.getenv('ATLAS_MOD'))",
            "",
            "# endregion",
            "# region: imports",
            "box::use(",
            "$1",
            ")",
            "",
            "# endregion",
            "# region: data",
            "",
            "# endregion",
            "# model",
            "# region: model",
            "",
            "# endregion",
            "# exports",
            "# region: exports",
            "",
            "# endregion",
            "",
        ],
    }
}