) +
geom_hline(
yintercept = 0
, color = '#001219'
) +
geom_line(
aes(color = Similarity)
, color = viridis::plasma(1)
, size = 1.22
) +
facet_wrap(
facets = vars(Similarity)
, nrow = 4) +
labs(
x = 'Similarity Ranking'
, y = 'Similarity (%)'
, title = 'Similarity Metrics Comparison - With Overqualification Imputation'
) +
scale_y_continuous(limits = c(-1,1)) +
ggthemes::theme_hc() +
theme(
axis.text.x = element_blank()
, axis.ticks.x = element_blank()
) -> plt_line.sub
ggsave(
plot = plt_line.sub
, filename = '9.Similarities_Comparison_Lines2.png'
, width = 15
, height = 7.5
)
# LINE CHARTS (SIDE BY SIDE) -----------------------------------------------
ggsave(
plot = plt_line + plt_line.sub
, filename = '10.Similarities_Comparison_Lines3.png'
, width = 15
, height = 7.5
)
# TOP MATCHES (NO IMPUTATION) ---------------------------------------------------------
df_KNN.output.long %>%
arrange(desc(Value)) %>%
group_by(Similarity) %>%
slice(1:15) %>%
ungroup() %>%
mutate(
Occupation = fct_reorder(
.f = Occupation
, .x = Value
, .fun = max
, .desc = T
)
, Similarity = fct_reorder(
.f = Similarity
, .x = Value
, .fun = max
, .desc = F
)
) %>%
ggplot(aes(
x = Value
, y = Similarity
, fill = Career_Cluster
)) +
geom_col() +
facet_wrap(
facets = vars(Occupation)
, nrow = 3
) +
labs(
x = 'Similarity (%)'
, y = 'Similarity Metric'
, title = 'Similarity Metrics Comparison - No Imputation'
, fill = 'Career Cluster'
) +
scale_x_continuous(limits = c(-1,1)) +
ggthemes::scale_fill_gdocs() +
ggthemes::theme_hc() -> plt_top15
ggsave(
plot = plt_top15
, filename = '1.Similarities_Comparison_Bar1.png'
, width = 16
, height = 8
)
# TOP MATCHES (WITH IMPUTATION) ---------------------------------------------------------
df_KNN.output.sub.long %>%
arrange(desc(Value)) %>%
group_by(Similarity) %>%
slice(1:15) %>%
ungroup() %>%
mutate(
Occupation = fct_reorder(
.f = Occupation
, .x = Value
, .fun = max
, .desc = T
)
, Similarity = fct_reorder(
.f = Similarity
, .x = Value
, .fun = max
, .desc = F
)
) %>%
ggplot(aes(
x = Value
, y = Similarity
, fill = Career_Cluster
)) +
geom_col() +
facet_wrap(
facets = vars(Occupation)
, nrow = 3
) +
labs(
x = 'Similarity (%)'
, y = 'Similarity Metric'
, title = 'Similarity Metrics Comparison - With Overqualification Imputation'
, fill = 'Career Cluster'
) +
scale_x_continuous(limits = c(-1,1)) +
ggthemes::scale_fill_gdocs() +
ggthemes::theme_hc() -> plt_top15.sub
ggsave(
plot = plt_top15.sub
, filename = '2.Similarities_Comparison_Bar2.png'
, width = 16
, height = 8
)
# HISTOGRAMS (NO IMPUTATION) --------------------------------------------------------
df_KNN.output.long %>%
mutate(
Similarity2 = Similarity
, Similarity2 = fct_reorder(
Similarity2, Value
, .fun = max, .desc = T
)
, Similarity = fct_reorder(
Similarity, Value
, .fun = max, .desc = T
)
) -> tmp
tmp %>%
ggplot(aes(
x = Value
)) +
geom_histogram(
data = tmp %>%
select(-Similarity)
, aes(group = Similarity2)
, binwidth = .1
, fill = 'grey'
, alpha = 0.5
) +
geom_histogram(
aes(fill = Similarity)
, binwidth = .1
, fill = '#fb5607'
) +
facet_wrap(
facets = vars(Similarity)
, nrow = 4) +
labs(
x = 'Similarity (%)'
, y = 'Count'
, title = 'Similarity Metrics Comparison - No Imputation'
) +
scale_x_continuous(limits = c(-1,1)) +
ggthemes::theme_hc() -> plt_hist
ggsave(
plot = plt_hist
, filename = '3.Similarities_Comparison_Hist1.png'
, width = 16
, height = 8
)
# HISTOGRAMS (WITH IMPUTATION) --------------------------------------------------------
df_KNN.output.sub.long %>%
mutate(
Similarity2 = Similarity
, Similarity2 = fct_reorder(
Similarity2, Value
, .fun = max, .desc = T
)
, Similarity = fct_reorder(
Similarity, Value
, .fun = max, .desc = T
)
) -> tmp
tmp %>%
ggplot(aes(
x = Value
)) +
geom_histogram(
data = tmp %>%
select(-Similarity)
, aes(group = Similarity2)
, binwidth = .1
, fill = 'grey'
, alpha = 0.5
) +
geom_histogram(
aes(fill = Similarity)
, binwidth = .1
, fill = viridis::plasma(1)
) +
facet_wrap(
facets = vars(Similarity)
, nrow = 4) +
labs(
x = 'Similarity (%)'
, y = 'Count'
, title = 'Similarity Metrics Comparison - With Overqualification Imputation'
) +
scale_x_continuous(limits = c(-1,1)) +
ggthemes::theme_hc() -> plt_hist.sub
ggsave(
plot = plt_hist.sub
, filename = '4.Similarities_Comparison_Hist2.png'
, width = 16
, height = 8
)
# HEATMAPS (NO IMPUTATION) ------------------------------------------------
df_KNN.output.long %>%
mutate(
Occupation = fct_reorder(
.f = Occupation
, .x = Value
, .fun = max
, .desc = F
)
, Similarity = fct_reorder(
.f = Similarity
, .x = Value
, .fun = max
, .desc = F
)
) %>%
ggplot(aes(
x = Occupation
, y = Similarity
, fill = Value
)) +
geom_tile() +
ggthemes::scale_fill_gradient2_tableau(
palette = 'Red-Blue-White Diverging'
, limits = c(-1,1)
) +
labs(
x = 'Similarity Ranking'
, y = 'Similarity Metric'
, fill = 'Similarity (%)'
, title = 'Similarity Metrics Comparison - No Imputation'
) +
ggthemes::theme_hc() +
theme(
axis.text.x = element_blank()
, axis.ticks.x = element_blank()
) -> plt_heatmap
ggsave(
plot = plt_heatmap
, filename = '5.Similarities_Comparison_Heatmap1.png'
, width = 16
, height = 8
)
# HEATMAPS (WITH IMPUTATION) ------------------------------------------------
df_KNN.output.sub.long %>%
mutate(
Occupation = fct_reorder(
.f = Occupation
, .x = Value
, .fun = max
, .desc = F
)
, Similarity = fct_reorder(
.f = Similarity
, .x = Value
, .fun = max
, .desc = F
)
) %>%
ggplot(aes(
x = Occupation
, y = Similarity
, fill = Value
)) +
geom_tile() +
ggthemes::scale_fill_gradient2_tableau(
palette = 'Red-Blue-White Diverging'
, limits = c(-1,1)
) +
labs(
x = 'Similarity Ranking'
, y = 'Similarity Metric'
, fill = 'Similarity (%)'
, title = 'Similarity Metrics Comparison - With Overqualification Imputation'
) +
ggthemes::theme_hc() +
theme(
axis.text.x = element_blank()
, axis.ticks.x = element_blank()
) -> plt_heatmap.sub
ggsave(
plot = plt_heatmap.sub
, filename = '6.Similarities_Comparison_Heatmap2.png'
, width = 16
, height = 8
)
# HEATMAPS (SIDE BY SIDE) -----------------------------------------------
ggsave(
plot = plt_heatmap + plt_heatmap.sub
, filename = '7.Similarities_Comparison_Heatmap3.png'
, width = 16
, height = 8
)
# LINE CHARTS (NO IMPUTATION) --------------------------------------------------------
df_KNN.output.long %>%
mutate(
Similarity2 = Similarity
, Similarity2 = fct_reorder(
Similarity2, Value
, .fun = max, .desc = T
)
, Similarity = fct_reorder(
Similarity, Value
, .fun = max, .desc = T
)
) %>%
group_by(Similarity) %>%
mutate(
Occupation = fct_reorder(
.f = Occupation
, .x = Value
, .fun = max
, .desc = F
)
) %>%
ungroup() -> tmp
tmp %>%
ggplot(aes(
x = Occupation
, y = Value
, group = 1
)) +
geom_line(
data = tmp %>%
select(-Similarity)
, aes(group = Similarity2)
, color = 'grey'
, alpha = 0.5
) +
geom_hline(
yintercept = 0
, color = '#001219'
) +
geom_line(
aes(color = Similarity)
, color = '#fb5607'
, size = 1.22
) +
facet_wrap(
facets = vars(Similarity)
, nrow = 4) +
labs(
x = 'Similarity Ranking'
, y = 'Similarity (%)'
, title = 'Similarity Metrics Comparison - No Imputation'
) +
scale_y_continuous(limits = c(-1,1)) +
ggthemes::theme_hc() +
theme(
axis.text.x = element_blank()
, axis.ticks.x = element_blank()
) -> plt_line
ggsave(
plot = plt_line
, filename = '8.Similarities_Comparison_Lines1.png'
, width = 16
, height = 8
)
# LINE CHARTS (WITH IMPUTATION) --------------------------------------------------------
df_KNN.output.sub.long %>%
mutate(
Similarity2 = Similarity
, Similarity2 = fct_reorder(
Similarity2, Value
, .fun = max, .desc = T
)
, Similarity = fct_reorder(
Similarity, Value
, .fun = max, .desc = T
)
) %>%
group_by(Similarity) %>%
mutate(
Occupation = fct_reorder(
.f = Occupation
, .x = Value
, .fun = max
, .desc = F
)
) %>%
ungroup() -> tmp
tmp %>%
ggplot(aes(
x = Occupation
, y = Value
, group = 1
)) +
geom_line(
data = tmp %>%
select(-Similarity)
, aes(group = Similarity2)
, color = 'grey'
, alpha = 0.5
) +
geom_hline(
yintercept = 0
, color = '#001219'
) +
geom_line(
aes(color = Similarity)
, color = viridis::plasma(1)
, size = 1.22
) +
facet_wrap(
facets = vars(Similarity)
, nrow = 4) +
labs(
x = 'Similarity Ranking'
, y = 'Similarity (%)'
, title = 'Similarity Metrics Comparison - With Overqualification Imputation'
) +
scale_y_continuous(limits = c(-1,1)) +
ggthemes::theme_hc() +
theme(
axis.text.x = element_blank()
, axis.ticks.x = element_blank()
) -> plt_line.sub
ggsave(
plot = plt_line.sub
, filename = '9.Similarities_Comparison_Lines2.png'
, width = 16
, height = 8
)
# LINE CHARTS (SIDE BY SIDE) -----------------------------------------------
ggsave(
plot = plt_line + plt_line.sub
, filename = '10.Similarities_Comparison_Lines3.png'
, width = 16
, height = 8
)
# NO IMPUTATION --------------------------------------------
fun_KNN.matching(
.df_data.numeric = df_occupations
, .vec_query.numeric = df_input
, .int_k = nrow(df_occupations)
, .imput.over_qualification = F
, .dbl_decimals = 4
) -> df_KNN.output
# OVERQUALIFICATION IMPUTATION - 100% UNNECESSARY COMPETENCY (0) --------------------------------------------
fun_KNN.matching(
.df_data.numeric = df_occupations
, .vec_query.numeric = df_input
, .int_k = nrow(df_occupations)
, .imput.over_qualification = T
, .dbl_over_qualification.threshold = 0
, .dbl_decimals = 4
) -> df_KNN.output.sub
# OVERQUALIFICATION IMPUTATION - 100% UNNECESSARY COMPETENCY (0) --------------------------------------------
fun_KNN.matching(
.df_data.numeric = df_occupations
, .vec_query.numeric = df_input
, .int_k = nrow(df_occupations)
, .imput.over_qualification = T
, .dbl_over_qualification.threshold = 0
, .dbl_decimals = 4
) -> df_KNN.output.sub
# OVERQUALIFICATION IMPUTATION - 100% UNNECESSARY COMPETENCY (0) --------------------------------------------
fun_KNN.matching(
.df_data.numeric = df_occupations
, .vec_query.numeric = df_input
, .int_k = nrow(df_occupations)
, .imput.over_qualification = T
, .dbl_over_qualification.threshold = 0
, .dbl_decimals = 4
) -> df_KNN.output.sub
# OVERQUALIFICATION IMPUTATION - 100% UNNECESSARY COMPETENCY (0) --------------------------------------------
fun_KNN.matching(
.df_data.numeric = df_occupations
, .vec_query.numeric = df_input
, .int_k = nrow(df_occupations)
, .imput.over_qualification = T
, .dbl_over_qualification.threshold = 0
, .dbl_decimals = 4
) -> df_KNN.output.sub
exp(-sqrt(.5))
exp(-(.5))
exp(-sqrt(1))
exp(-(1))
exp(-sqrt(1.5))
exp(-(1.5))
exp(-sqrt(.25))
exp(-(.25))
exp(-(.5)/2)
exp(-(.5)/25)
exp(-(.5)/5)
exp(-(.5)/.25)
exp(-(.5)/2.5)
exp(-.5*(.5))
exp(-(.5))
exp(-(.5)/2)
exp(-(.5)/3)
exp(-(.5)/4)
1/4
